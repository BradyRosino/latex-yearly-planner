\documentclass[<%= document_options %>]{<%= document_class %>}

\usepackage[<%= babel_language %>, english]{babel}
<% if roman_font %>\babelfont{rm}{<%= roman_font %>}<% end %>
<% if sans_serif_font %>\babelfont{sf}{<%= sans_serif_font %>}<% end %>
<% if monospace_font %>\babelfont{tt}{<%= monospace_font %>}<% end %>

\usepackage{geometry}
\usepackage[table]{xcolor}
\usepackage{calc}
\usepackage{dashrule}
\usepackage{setspace}
\usepackage{array}
\usepackage{tikz}
\usepackage{varwidth}
\usepackage{blindtext}
\usepackage{tabularx}
\usepackage{wrapfig}
\usepackage{makecell}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{amssymb}
\usepackage{expl3}
\usepackage{leading}
\usepackage{pgffor}
\usepackage[hidelinks]{hyperref}
\usepackage{marginnote}
\usepackage{adjustbox}
\usepackage{multido}
\usepackage{tabularray}
\usepackage{multicol}
\usetikzlibrary{patterns}

\geometry{
  paperwidth=<%= paper.dimensions.width %>,
  paperheight=<%= paper.dimensions.height %>,
  top=<%= paper.margin.top %>,
  bottom=<%= paper.margin.bottom %>,
  left=<%= paper.margin.left %>,
  right=<%= paper.margin.right %>,
  marginparwidth=<%= paper.margin_notes.width %>,
  marginparsep=<%= paper.margin_notes.separation %>
}

<% if paper.margin_notes.placement == 'left' %>\reversemarginpar<% end %>

\pagestyle{empty}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}
\parindent=0pt
\fboxsep0pt

\pgfdeclarepatternformonly{dotted5mm}%
{\pgfqpoint{-0.5pt}{-0.5pt}}%
{\pgfqpoint{0.5pt}{0.5pt}}%
{\pgfqpoint{5mm}{5mm}}%
{%
\pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}%
\pgfusepath{fill}%
}%

\pgfdeclarepatternformonly{lined5mm}{\pgfpointorigin}{\pgfpoint{5mm}{5mm}}{\pgfpoint{5mm}{5mm}}{
\pgfsetlinewidth{1pt}
\pgfpathmoveto{\pgfpointorigin}
\pgfpathlineto{\pgfpoint{5mm}{0mm}}
\pgfusepath{stroke}
}

\newcommand{\remainingHeight}{%
\ifdim\pagegoal=\maxdimen
\dimexpr\textheight-4pt\relax
\else
\dimexpr\pagegoal-\pagetotal-\lineskip-4pt\relax
\fi%
}

\pgfdeclarepatternformonly{custom_dotted}%
{\pgfqpoint{-0.5pt}{-0.5pt}}%
{\pgfqpoint{0.5pt}{0.5pt}}%
{\pgfqpoint{5mm}{5mm}}%
{%
\pgfpathcircle{\pgfqpoint{0pt}{0pt}}{.5pt}%
\pgfusepath{fill}%
}

\newcommand{\myLineColor}[1]{\textcolor{#1}{\myLinePlain}}

\newcommand{\myLinePlain}{\hrule width \linewidth height 0.4pt}
\newcommand{\myLineGray}{\myLineColor{gray}}
\newcommand{\myLineLightGray}{\myLineColor{gray!50}}

\begin{document}

<% text_documents.each do |doc| %>
  \include{<%= doc.name %>}
<% end %>

\end{document}